<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Amazon ECR – AWS ML Specialty Ebook</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../styles/main.css" />
    <link rel="stylesheet" href="../styles/print.css" media="print" />
  </head>
  <body class="layout">
    <header class="top-nav" role="banner">
      <div class="top-nav-title">AWS Certified Machine Learning – Specialty Ebook</div>
      <nav aria-label="Main navigation">
        <div class="top-nav-links">
          <a href="../index.html" data-page="index.html">Home</a>
          <a href="../toc.html" data-page="toc.html">Table of Contents</a>
          <a href="../practice-questions.html" data-page="practice-questions.html">Practice Questions</a>
          <a href="../glossary.html" data-page="glossary.html">Glossary</a>
          <a href="../cheat-sheet.html" data-page="cheat-sheet.html">Cheat Sheet</a>
          <a href="../search.html" data-page="search.html">Search</a>
          <a href="../about.html" data-page="about.html">About</a>
        </div>
      </nav>
    </header>
    <div class="shell">
      <aside class="sidebar" aria-label="Service navigation">
        <section class="sidebar-section">
          <h2>Compute &amp; Containers</h2>
          <ul>
            <li><a href="amazon-ec2.html">Amazon EC2</a></li>
            <li><a href="aws-batch.html">AWS Batch</a></li>
            <li><a href="amazon-ecr.html">Amazon ECR</a></li>
            <li><a href="amazon-ecs.html">Amazon ECS</a></li>
            <li><a href="amazon-eks.html">Amazon EKS</a></li>
            <li><a href="aws-fargate.html">AWS Fargate</a></li>
          </ul>
        </section>
      </aside>
      <main class="main-content" role="main">
        <p class="breadcrumbs">
          <a href="../index.html">Home</a> <span aria-hidden="true">›</span>
          <a href="../toc.html#compute">Compute &amp; Orchestration</a> <span aria-hidden="true">›</span>
          Amazon ECR
        </p>
        <h1>Amazon Elastic Container Registry (ECR)</h1>
        <p>
          Amazon ECR is a fully managed container registry that makes it easy to store, manage, and deploy Docker images.
          It integrates with ECS, EKS, Batch, and SageMaker for hosting containerized ML training and inference
          workloads.
        </p>

        <section>
          <h2>Key features</h2>
          <ul>
            <li>Private and public repositories for container images.</li>
            <li>Lifecycle policies for image cleanup and cost control.</li>
            <li>Image scanning for vulnerabilities.</li>
            <li>Fine-grained access control using IAM.</li>
            <li>Deep integration with ECS, EKS, Batch, and SageMaker custom containers.</li>
          </ul>
        </section>

        <section>
          <h2>Where it fits in ML pipelines</h2>
          <ul>
            <li>Storing custom training and inference containers used by SageMaker or Batch.</li>
            <li>Providing images for containerized feature pipelines on ECS or EKS.</li>
            <li>Versioning ML application containers as part of CI/CD pipelines.</li>
            <li>Hosting internal base images with preinstalled ML frameworks.</li>
          </ul>
        </section>

        <section>
          <h2>CLI and SDK examples</h2>
          <h3>Authenticate and push (CLI)</h3>
          <pre><code class="language-bash">aws ecr create-repository --repository-name ml-training
aws ecr get-login-password \
  | docker login --username AWS --password-stdin &lt;account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com
docker build -t ml-training .
docker tag ml-training:latest &lt;account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/ml-training:latest
docker push &lt;account-id&gt;.dkr.ecr.&lt;region&gt;.amazonaws.com/ml-training:latest</code></pre>

          <h3>List repositories (Python, boto3)</h3>
          <pre><code class="language-python">import boto3

ecr = boto3.client("ecr")

resp = ecr.describe_repositories()
for repo in resp["repositories"]:
    print(repo["repositoryName"], repo["repositoryUri"])</code></pre>
        </section>

        <section>
          <h2>Best practices for ML workloads</h2>
          <ul>
            <li>Use small, layer-efficient images to reduce cold start times for training and inference containers.</li>
            <li>Enable vulnerability scanning and regularly patch base images.</li>
            <li>Use lifecycle policies to remove old image versions and reduce storage costs.</li>
            <li>Store shared ML base images (frameworks, libraries) separately from application code layers.</li>
          </ul>
        </section>

        <section class="exam-tips callout">
          <h2>Exam tips</h2>
          <ul>
            <li>ECR is almost always the registry used with ECS, EKS, Batch, and SageMaker custom containers.</li>
            <li>Look for references to “storing Docker images” or “private container registry.”</li>
            <li>CI/CD and container image lifecycle scenarios point strongly to ECR.</li>
          </ul>
        </section>

        <section>
          <h2>Further reading</h2>
          <ul>
            <li><a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/what-is-ecr.html">Amazon ECR User Guide – What Is Amazon ECR?</a></li>
            <li><a href="https://aws.amazon.com/ecr/">Amazon ECR product page</a></li>
          </ul>
        </section>

        <p class="source-line">
          Source: <a href="https://docs.aws.amazon.com/AmazonECR/latest/userguide/what-is-ecr.html">Amazon ECR User Guide</a>.
          Last reviewed: 2025-11-16 (offline, approximate).
        </p>
      </main>
    </div>
    <footer class="site-footer" role="contentinfo">
      Amazon ECR is the standard registry for ML containers used with SageMaker, Batch, ECS, and EKS.
    </footer>
    <script src="../scripts/prism.js"></script>
    <script src="../scripts/main.js"></script>
  </body>
</html>

